<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Protocole R√©√©ducation</title>
  <style>
    :root {
      --bg: #0d1117;
      --card: #161b22;
      --border: #30363d;
      --text: #e6edf3;
      --text-dim: #8b949e;
      --accent: #58a6ff;
      --green: #3fb950;
      --orange: #d29922;
      --red: #f85149;
      --radius: 12px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 20px;
      padding-bottom: 40px;
    }
    h1 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      text-align: center;
    }
    .selectors {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }
    .selector {
      flex: 1;
    }
    .selector label {
      display: block;
      font-size: 12px;
      color: var(--text-dim);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .selector select {
      width: 100%;
      padding: 12px 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      color: var(--text);
      font-size: 15px;
      appearance: none;
      cursor: pointer;
    }
    .phase-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 20px;
    }
    .phase-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    .phase-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
    }
    .phase-1 { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
    .phase-2 { background: rgba(168, 85, 247, 0.2); color: #c084fc; }
    .phase-3 { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
    .phase-title {
      font-size: 18px;
      font-weight: 600;
    }
    .phase-duration {
      font-size: 13px;
      color: var(--text-dim);
    }
    .day-type {
      display: inline-block;
      padding: 4px 10px;
      background: rgba(88, 166, 255, 0.15);
      color: var(--accent);
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 16px;
    }
    .exercises-title {
      font-size: 14px;
      color: var(--text-dim);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .exercise {
      background: var(--bg);
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .exercise:hover { transform: scale(1.01); }
    .exercise:last-child { margin-bottom: 0; }
    .exercise-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }
    .exercise-icon {
      width: 40px;
      height: 40px;
      background: var(--card);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    .exercise-name {
      font-size: 15px;
      font-weight: 600;
    }
    .exercise-params {
      font-size: 13px;
      color: var(--accent);
    }
    .exercise-desc {
      font-size: 13px;
      color: var(--text-dim);
      line-height: 1.4;
    }
    .exercise-detail {
      display: none;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    .exercise.open .exercise-detail { display: block; }
    .detail-section {
      margin-bottom: 16px;
    }
    .detail-section:last-child { margin-bottom: 0; }
    .detail-label {
      font-size: 11px;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 6px;
    }
    .detail-content {
      font-size: 14px;
      line-height: 1.5;
    }
    .detail-content ul {
      padding-left: 18px;
    }
    .detail-content li {
      margin-bottom: 4px;
    }
    .warning {
      background: rgba(248, 81, 73, 0.1);
      border: 1px solid rgba(248, 81, 73, 0.3);
      border-radius: 8px;
      padding: 12px;
      font-size: 13px;
      color: var(--red);
    }
    .tip {
      background: rgba(63, 185, 80, 0.1);
      border: 1px solid rgba(63, 185, 80, 0.3);
      border-radius: 8px;
      padding: 12px;
      font-size: 13px;
      color: var(--green);
    }
    .rest-day {
      text-align: center;
      padding: 40px 20px;
    }
    .rest-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }
    .rest-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .rest-desc {
      font-size: 14px;
      color: var(--text-dim);
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <h1>üèãÔ∏è Protocole R√©√©ducation</h1>

  <div class="selectors">
    <div class="selector">
      <label>Phase</label>
      <select id="phase-select" onchange="updateProgram()">
        <option value="1">Phase 1 ‚Äî Fondation</option>
        <option value="2">Phase 2 ‚Äî Renforcement</option>
        <option value="3">Phase 3 ‚Äî Consolidation</option>
      </select>
    </div>
    <div class="selector">
      <label>Jour</label>
      <select id="day-select" onchange="updateProgram()">
        <option value="1">Lundi</option>
        <option value="2">Mardi</option>
        <option value="3">Mercredi</option>
        <option value="4">Jeudi</option>
        <option value="5">Vendredi</option>
        <option value="6">Samedi</option>
        <option value="0">Dimanche</option>
      </select>
    </div>
  </div>

  <div id="program-container"></div>

  <script>
    // ============================================
    // DONN√âES ‚Äî EXERCICES
    // ============================================
    const EXERCISES = {
      E0: {
        id: 'E0', name: 'Reset anti-bracing', icon: 'üå¨Ô∏è',
        params: '2 √ó 6 respirations',
        desc: 'Respiration + micro-bascule du bassin pour rel√¢cher les tensions.',
        position: 'Sur le dos, genoux pli√©s, pieds au sol. Ou sur le c√¥t√© si engourdissement cuisse.',
        execution: [
          'Inspire lentement par le nez (4s), ventre se gonfle',
          'Expire doucement par la bouche (6s), ventre se creuse',
          'Sur l\'expiration : micro-bascule du bassin vers l\'arri√®re (pubis monte, lombaires s\'aplatissent)',
          'Sur l\'inspiration : rel√¢che, reviens neutre',
          '6 respirations = 1 s√©rie. Faire 2 s√©ries.'
        ],
        sensation: 'D√©tente progressive du bas du dos. Pas de douleur.',
        erreurs: ['Forcer la bascule', 'Bloquer la respiration', 'Contracter les abdos fort']
      },
      E1: {
        id: 'E1', name: 'Dead Bug modifi√©', icon: 'ü™≤',
        params: '2 √ó 8 (4/c√¥t√©) ‚Äî maintien 5s',
        desc: 'Activation transverse + contr√¥le lombaire. Fondation anti-bracing.',
        position: 'Sur le dos, genoux pli√©s √† 90¬∞, tibias horizontaux, bras vers le plafond.',
        execution: [
          'Expire et aplatis l√©g√®rement le bas du dos (micro-engagement transverse)',
          'Tends une jambe vers l\'avant sans toucher le sol, maintiens 5s',
          'Reviens, change de c√¥t√©',
          'Le bas du dos ne doit PAS se cambrer'
        ],
        sensation: 'L√©g√®re tension dans le bas-ventre. Pas de tension dans le dos.',
        erreurs: ['Cambrer le dos', 'Retenir sa respiration', 'Aller trop vite']
      },
      E2: {
        id: 'E2', name: 'Clam Shell', icon: 'üêö',
        params: '2 √ó 12/c√¥t√© ‚Äî tempo lent',
        desc: 'Activation moyen fessier. Corrige la faiblesse lat√©rale de hanche.',
        position: 'Sur le c√¥t√©, genoux pli√©s √† 45¬∞, pieds joints, t√™te pos√©e sur le bras.',
        execution: [
          'Garde les pieds coll√©s',
          'Ouvre le genou du dessus en rotation externe de hanche',
          'Monte jusqu\'√† sentir le fessier, sans basculer le bassin en arri√®re',
          'Redescends lentement (2s)'
        ],
        sensation: 'Br√ªlure l√©g√®re sur le c√¥t√© de la fesse (moyen fessier).',
        erreurs: ['Basculer le bassin', 'Utiliser le dos', 'Aller trop haut']
      },
      E3: {
        id: 'E3', name: 'Pont fessier', icon: 'üåâ',
        params: '2 √ó 10 ‚Äî maintien 3s en haut',
        desc: 'Activation grand fessier + cha√Æne post√©rieure.',
        position: 'Sur le dos, genoux pli√©s, pieds √† plat largeur bassin, bras le long du corps.',
        execution: [
          'Pousse dans les talons',
          'Monte le bassin jusqu\'√† alignement genoux-hanches-√©paules',
          'Serre les fessiers en haut, maintiens 3s',
          'Redescends vert√®bre par vert√®bre (contr√¥le)'
        ],
        sensation: 'Contraction franche des fessiers. Pas de tension lombaire.',
        erreurs: ['Monter trop haut (hyperlordose)', 'Pousser avec les lombaires', '√âcarter les genoux']
      },
      E4: {
        id: 'E4', name: 'Bird Dog', icon: 'üêï',
        params: '2 √ó 8 (4/c√¥t√©) ‚Äî maintien 5s',
        desc: 'Contr√¥le lombaire + coordination bras-jambe oppos√©s.',
        position: '√Ä quatre pattes, mains sous les √©paules, genoux sous les hanches.',
        execution: [
          'Engage l√©g√®rement le transverse (nombril vers colonne)',
          'Tends simultan√©ment bras droit + jambe gauche',
          'Garde le dos parfaitement plat (pas de rotation)',
          'Maintiens 5s, reviens, change de c√¥t√©'
        ],
        sensation: 'Stabilit√© du tronc. L√©ger travail fessier et √©paule.',
        erreurs: ['Cambrer le dos', 'Tourner le bassin', 'Monter trop haut']
      },
      E5: {
        id: 'E5', name: 'V√©lo stationnaire', icon: 'üö¥',
        params: 'Phase 1: 10min | Phase 2: 15min | Phase 3: 20min',
        desc: 'Cardio basse intensit√©, d√©compression discale, lubrification articulaire.',
        position: 'Selle r√©gl√©e : jambe presque tendue en bas de p√©dale, dos neutre.',
        execution: [
          'P√©dale √† r√©sistance l√©g√®re √† mod√©r√©e',
          'Cadence confortable (60-80 rpm)',
          'Dos neutre, pas vout√© ni cambr√©',
          'Si douleur/tension : r√©duire dur√©e ou r√©sistance'
        ],
        sensation: 'Aisance respiratoire. L√©g√®re chaleur dans les jambes. Pas de douleur lombaire.',
        erreurs: ['R√©sistance trop forte', 'Dos vout√©', 'Forcer si douleur']
      },
      E6: {
        id: 'E6', name: 'Squat assist√©', icon: 'üèãÔ∏è',
        params: '2 √ó 10 ‚Äî tempo contr√¥l√©',
        desc: 'Pattern de squat avec appui pour contr√¥ler la descente.',
        position: 'Debout face √† un support stable (table, dossier de chaise), pieds largeur √©paules.',
        execution: [
          'Tiens le support pour l\'√©quilibre',
          'Descends en poussant les fesses en arri√®re (comme s\'asseoir)',
          'Genoux align√©s avec les pieds (pas vers l\'int√©rieur)',
          'Descends jusqu\'o√π tu contr√¥les, remonte en poussant dans les talons'
        ],
        sensation: 'Travail des cuisses et fessiers. Pas de douleur au genou ni au dos.',
        erreurs: ['Genoux qui rentrent', 'Dos qui s\'arrondit', 'Descendre trop vite']
      },
      E7: {
        id: 'E7', name: 'Planche modifi√©e', icon: 'üìê',
        params: '2 √ó 20s ‚Äî sur genoux',
        desc: 'Gainage global, renforcement stabilisateurs du tronc.',
        position: 'Sur les avant-bras et les genoux, coudes sous les √©paules.',
        execution: [
          'Aligne t√™te-√©paules-hanches-genoux',
          'Engage le transverse (nombril rentr√©)',
          'Ne creuse PAS le dos, ne monte pas les fesses',
          'Maintiens 20s en respirant normalement'
        ],
        sensation: 'Tension dans les abdos. Pas de douleur lombaire.',
        erreurs: ['Creuser le dos', 'Monter les fesses', 'Bloquer la respiration']
      },
      E8: {
        id: 'E8', name: 'Fente arri√®re assist√©e', icon: 'ü¶µ',
        params: '2 √ó 8/c√¥t√© ‚Äî avec appui',
        desc: 'Renforcement unilat√©ral cuisses/fessiers, √©quilibre.',
        position: 'Debout √† c√¥t√© d\'un mur ou support, pieds joints.',
        execution: [
          'Fais un grand pas en arri√®re avec une jambe',
          'Descends le genou arri√®re vers le sol (sans toucher)',
          'Garde le buste droit, tronc engag√©',
          'Remonte en poussant avec la jambe avant',
          'Alterne les c√¥t√©s'
        ],
        sensation: 'Travail du quadriceps avant et fessier. √âtirement fl√©chisseur arri√®re.',
        erreurs: ['Genou avant qui d√©passe les orteils', 'Buste pench√©', 'Perte d\'√©quilibre']
      },
      E9: {
        id: 'E9', name: '√âtirement psoas', icon: 'üßò',
        params: '2 √ó 30s/c√¥t√©',
        desc: 'Allongement du psoas, r√©duit la tension sur les lombaires.',
        position: 'Position de chevalier servant (un genou au sol, l\'autre pied devant √† 90¬∞).',
        execution: [
          'Genou arri√®re sur un coussin',
          'Bascule l√©g√®rement le bassin vers l\'arri√®re (r√©troversion)',
          'Avance doucement les hanches jusqu\'√† sentir l\'√©tirement devant la hanche arri√®re',
          'Maintiens 30s, respire',
          'Change de c√¥t√©'
        ],
        sensation: '√âtirement devant la hanche/cuisse de la jambe arri√®re.',
        erreurs: ['Cambrer le dos', 'Avancer trop vite', 'Oublier la r√©troversion']
      }
    };

    // ============================================
    // DONN√âES ‚Äî PROGRAMMES PAR PHASE
    // ============================================
    const PROGRAMS = {
      1: { // Phase 1 ‚Äî Fondation (Semaines 1-2)
        name: 'Fondation',
        duration: 'Semaines 1-2',
        color: 'phase-1',
        schedule: {
          1: { type: 'S√©ance A', exercises: ['E0', 'E1', 'E2', 'E3', 'E5'] },  // Lundi
          2: { type: 'Repos actif', exercises: [] },                            // Mardi
          3: { type: 'S√©ance B', exercises: ['E0', 'E4', 'E2', 'E3', 'E5'] },  // Mercredi
          4: { type: 'Repos actif', exercises: [] },                            // Jeudi
          5: { type: 'S√©ance A', exercises: ['E0', 'E1', 'E2', 'E3', 'E5'] },  // Vendredi
          6: { type: 'Repos actif', exercises: [] },                            // Samedi
          0: { type: 'Repos complet', exercises: [] }                           // Dimanche
        }
      },
      2: { // Phase 2 ‚Äî Renforcement (Semaines 3-4)
        name: 'Renforcement',
        duration: 'Semaines 3-4',
        color: 'phase-2',
        schedule: {
          1: { type: 'S√©ance A', exercises: ['E0', 'E1', 'E4', 'E3', 'E6', 'E5'] },
          2: { type: 'Repos actif', exercises: [] },
          3: { type: 'S√©ance B', exercises: ['E0', 'E7', 'E2', 'E3', 'E6', 'E5'] },
          4: { type: 'Repos actif', exercises: [] },
          5: { type: 'S√©ance A', exercises: ['E0', 'E1', 'E4', 'E3', 'E6', 'E5'] },
          6: { type: 'S√©ance B', exercises: ['E0', 'E7', 'E2', 'E3', 'E6', 'E5'] },
          0: { type: 'Repos complet', exercises: [] }
        }
      },
      3: { // Phase 3 ‚Äî Consolidation (Semaines 5-6)
        name: 'Consolidation',
        duration: 'Semaines 5-6',
        color: 'phase-3',
        schedule: {
          1: { type: 'S√©ance compl√®te', exercises: ['E0', 'E1', 'E4', 'E7', 'E3', 'E8', 'E5', 'E9'] },
          2: { type: 'Repos actif', exercises: [] },
          3: { type: 'S√©ance compl√®te', exercises: ['E0', 'E1', 'E4', 'E7', 'E3', 'E8', 'E5', 'E9'] },
          4: { type: 'Repos actif', exercises: [] },
          5: { type: 'S√©ance compl√®te', exercises: ['E0', 'E1', 'E4', 'E7', 'E3', 'E8', 'E5', 'E9'] },
          6: { type: 'S√©ance l√©g√®re', exercises: ['E0', 'E3', 'E5', 'E9'] },
          0: { type: 'Repos complet', exercises: [] }
        }
      }
    };

    // ============================================
    // RENDU
    // ============================================
    function updateProgram() {
      const phase = document.getElementById('phase-select').value;
      const day = document.getElementById('day-select').value;
      const container = document.getElementById('program-container');
      
      const program = PROGRAMS[phase];
      const dayProgram = program.schedule[day];
      
      let html = `
        <div class="phase-card">
          <div class="phase-header">
            <span class="phase-badge ${program.color}">Phase ${phase}</span>
            <div>
              <div class="phase-title">${program.name}</div>
              <div class="phase-duration">${program.duration}</div>
            </div>
          </div>
          <div class="day-type">${dayProgram.type}</div>
      `;
      
      if (dayProgram.exercises.length === 0) {
        // Jour de repos
        const isActive = dayProgram.type === 'Repos actif';
        html += `
          <div class="rest-day">
            <div class="rest-icon">${isActive ? 'üö∂' : 'üò¥'}</div>
            <div class="rest-title">${isActive ? 'Repos actif' : 'Repos complet'}</div>
            <div class="rest-desc">
              ${isActive 
                ? 'Marche l√©g√®re 20-30 min. √âtirements doux si besoin. Pas d\'exercices de renforcement.' 
                : 'Journ√©e off compl√®te. R√©cup√©ration passive. Hydratation et sommeil.'}
            </div>
          </div>
        `;
      } else {
        // Jour d'entra√Ænement
        html += `<div class="exercises-title">Programme du jour</div>`;
        
        dayProgram.exercises.forEach(exId => {
          const ex = EXERCISES[exId];
          html += `
            <div class="exercise" onclick="this.classList.toggle('open')">
              <div class="exercise-header">
                <div class="exercise-icon">${ex.icon}</div>
                <div>
                  <div class="exercise-name">${ex.name}</div>
                  <div class="exercise-params">${ex.params}</div>
                </div>
              </div>
              <div class="exercise-desc">${ex.desc}</div>
              <div class="exercise-detail">
                <div class="detail-section">
                  <div class="detail-label">Position de d√©part</div>
                  <div class="detail-content">${ex.position}</div>
                </div>
                <div class="detail-section">
                  <div class="detail-label">Ex√©cution</div>
                  <div class="detail-content">
                    <ul>
                      ${ex.execution.map(step => `<li>${step}</li>`).join('')}
                    </ul>
                  </div>
                </div>
                <div class="detail-section">
                  <div class="detail-label">Sensation attendue</div>
                  <div class="detail-content tip">${ex.sensation}</div>
                </div>
                <div class="detail-section">
                  <div class="detail-label">Erreurs √† √©viter</div>
                  <div class="detail-content warning">
                    <ul>
                      ${ex.erreurs.map(err => `<li>${err}</li>`).join('')}
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          `;
        });
      }
      
      html += `</div>`;
      container.innerHTML = html;
    }

    // Init
    updateProgram();
  </script>
</body>
</html>
